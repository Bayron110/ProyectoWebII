<div class="denuncia-container">
    <div class="side-column">
        <div class="side-card">
            <h3>Consejos de Seguridad</h3>
            <ul>
                <li>Verifica la información antes de denunciar.</li>
                <li>No compartas datos personales innecesarios.</li>
                <li>En caso de emergencia, llama al 911.</li>
            </ul>
        </div>

        <div class="side-card">
            <h3>Tipos de Denuncias</h3>
            <ul>
                <li>Robo o hurto</li>
                <li>Violencia intrafamiliar</li>
                <li>Fraudes y estafas</li>
                <li>Desaparición de personas</li>
            </ul>
        </div>
    </div>

    <div class="max-w-md mx-auto mt-10 p-6 bg-white rounded shadow-md dark:bg-gray-800 relative">
        <h2 class="text-2xl font-semibold mb-6 text-gray-800 dark:text-white text-center">
            Registrar Denuncia
        </h2>

        @if (modalVisible) {
        <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" (click)="cerrarModal()">
            <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg max-w-sm w-full"
                (click)="$event.stopPropagation()">
                <h3 class="text-lg font-semibold mb-4 text-gray-800 dark:text-white">
                    ✅ ¡Éxito!
                </h3>
                <p class="text-gray-700 dark:text-gray-300 mb-4">{{ mensajeExito }}</p>
                <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full"
                    (click)="cerrarModal()">
                    Cerrar
                </button>
            </div>
        </div>
        }

        @if (error) {
        <div class="mb-4 p-3 bg-red-100 text-red-700 rounded">
            {{ error }}
        </div>
        }

        <form (ngSubmit)="enviarDenuncia()">
            <div class="mb-4">
                <label for="denunciante" class="block text-gray-700 dark:text-gray-300 mb-1">Nombre del
                    denunciante</label>
                <input type="text" id="denunciante" [(ngModel)]="denunciante" name="denunciante" required
                    [disabled]="cargando" readonly
                    class="w-full px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white" />
            </div>

            <div class="mb-4">
                <label for="fecha" class="block text-gray-700 dark:text-gray-300 mb-1">Fecha</label>
                <input type="date" id="fecha" [(ngModel)]="fecha" name="fecha" required [disabled]="cargando"
                    class="w-full px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white" />
            </div>

            <!-- Campo para Categoría -->
            <div class="mb-4">
                <label for="categoria" class="block text-gray-700 dark:text-gray-300 mb-1">Categoría</label>
                <input type="text" id="categoria" [(ngModel)]="categoria" name="categoria" required
                    [disabled]="cargando"
                    class="w-full px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white" />
            </div>

            <!-- Campo para Calle Principal -->
            <div class="mb-4">
                <label for="callePrincipal" class="block text-gray-700 dark:text-gray-300 mb-1">Calle Principal</label>
                <input type="text" id="callePrincipal" [(ngModel)]="callePrincipal" name="callePrincipal" required
                    [disabled]="cargando"
                    class="w-full px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white" />
            </div>

            <!-- Campo para Calle Secundaria -->
            <div class="mb-4">
                <label for="calleSecundaria" class="block text-gray-700 dark:text-gray-300 mb-1">Calle
                    Secundaria</label>
                <input type="text" id="calleSecundaria" [(ngModel)]="calleSecundaria" name="calleSecundaria" required
                    [disabled]="cargando"
                    class="w-full px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white" />
            </div>

            <!-- Campo para Referencia Visible -->
            <div class="mb-4">
                <label for="referenciaVisible" class="block text-gray-700 dark:text-gray-300 mb-1">Referencia
                    Visible</label>
                <input type="text" id="referenciaVisible" [(ngModel)]="referenciaVisible" name="referenciaVisible"
                    required [disabled]="cargando"
                    class="w-full px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white" />
            </div>

            <div class="mb-6">
                <label for="descripcion" class="block text-gray-700 dark:text-gray-300 mb-1">Descripción</label>
                <textarea id="descripcion" [(ngModel)]="descripcion" name="descripcion" rows="4" required
                    [disabled]="cargando"
                    class="w-full px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"></textarea>
            </div>

            <button type="submit"
                class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition disabled:opacity-50"
                [disabled]="cargando">
                Registrar Denuncia
            </button>
        </form>
    </div>

    <div class="side-column">
        <div class="side-card">
            <h3>Contacto Rápido</h3>
            <p><strong>Policía Nacional:</strong> 1800-335-486</p>
            <p><strong>Emergencias:</strong> 911</p>
            <p><strong>Denuncia en Línea:</strong> www.denuncias.gob.ec</p>
        </div>

        <div class="side-card">
            <h3>Atención Ciudadana</h3>
            <p>Lunes a Viernes: 08h00 - 17h00</p>
            <p>Sábados: 08h00 - 12h00</p>
            <p>Correo: atencionciudadana@policia.gob.ec</p>
        </div>
    </div>
</div>
